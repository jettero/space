# vi:ft=python:
# coding: utf-8

import logging
import re

def fix_at(lines):
    return [ re.sub(r'^(\s*)@(?:\.)?', 'o.', line) for line in lines ]
get_ipython().input_transformers_post.append(fix_at)

def mk_lots(cls, c=1000, *a, **kw):
    ''' use this with %lprun -f ClassName.__init__ mk_lots(ClassName) '''
    global lots
    lots = [ cls(*a, **kw) for _ in range(c) ]
    print("stored %d items in 'lots'", len(lots))

class STFU(logging.Filter):
    def filter(self, record):
        return '/space/' in record.pathname
logging.basicConfig(level=logging.DEBUG)
for h in logging.root.handlers:
    h.addFilter(STFU())
del STFU; del h

from space.nico import nico
from space.vv import VV
from space.pv import PV
from space.dn import DN
from space.roll import Roll, roll, Check
from space.parser import Parser

import sys
sys.path.insert(0, 't')
from troom import a_map, o

P = Parser()

def do(cmd):
    return o.me.do(cmd)

;do open door; sSW6s3w; get bauble
